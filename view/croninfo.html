<!DOCTYPE html>
<html lang="en">

<style>
    .active{width:200px}
    .long{width:400px}
</style>

<head>
    <meta charset="UTF-8">
    <title>Cron Status</title>
    <script src="static/js/jquery-3.4.1.min.js"  type="text/javascript"></script>

</head>

<body>
    <h2 align="center">{{ .IP }} - {{ .PORT }}</h2></br></br>

    <table align="center" class="table table-hover" id="tablebox">
        <tr>
            <td class="active">任务名</td>
            <td class="long">脚本路径</td>
            <td class="active">执行状态</td>
            <td class="active">执行规则</td>
            <td class="active">日志查看</td>
        </tr>
    </table>

    <script language="javascript">
            var obj = JSON.parse("{{ .Info}}")
            //console.log('obj', obj)
            window.onload = function () {
            var tdArr = document.getElementById('tablebox').firstElementChild;
            for (var key in obj) {
                var List = obj[key]
                    var tr = document.createElement("tr");
                    tr.innerHTML = '<td class="active" >' + key + '</td> <td class="active">' + List.File + '</td> <td class="active">' + List.Status + '</td> <td class="active">' + List.Rule + '</td> <td class="active"><a href='+"./cronlog?app="+key+"&port="+"{{ .PORT}}"+"&ip="+"{{ .IP}}"+"&lines=100 "+'target="_blank">点击查看</a></td>';
                    tdArr.appendChild(tr)
                }
            }

    </script>

</body>

</html>